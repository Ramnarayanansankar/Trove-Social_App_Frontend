<div class="homepage-container">
  <!-- SIDE NAVIGATION -->
  <app-side-nav
    [userName]="userName"
    [userInitials]="userInitials"
    [profilePicture]="profilePicture"
    [notificationCount]="notificationCount"
    [activeNav]="activeNav"
    (navChange)="setActiveNav($event)"
    (notificationClick)="toggleNotifications()"
    (createClick)="openCreateModal()"
    (logoutClick)="logout()">
  </app-side-nav>

  <!-- MAIN CONTENT -->
  <div class="main-content">

  <!-- CENTERED STATS -->
  <div class="stats">
    <div class="stat">
      <strong>{{ stats.followers }}</strong>
      <span>Followers</span>
    </div>
    <div class="stat">
      <strong>{{ stats.following }}</strong>
      <span>Following</span>
    </div>
    <div class="stat">
      <strong>{{ stats.posts }}</strong>
      <span>Posts</span>
    </div>
  </div>

  <!-- PHOTO GRID -->
  <div class="grid">
    <div class="photo" *ngFor="let photo of photos"></div>
  </div>

  <!-- NOTIFICATIONS DRAWER -->
  <div class="drawer" [class.show]="showNotifications">
    <div class="drawer-header">
      <h3>Notifications</h3>
      <button class="close-btn" (click)="toggleNotifications()">Ã—</button>
    </div>

    <div class="notification" *ngFor="let notification of notifications">
      <div class="notification-content">{{ notification.message }}</div>
      <div class="actions" *ngIf="notification.actions">
        <button class="primary" (click)="handleNotificationAction(notification, 'accept')">
          {{ notification.actions.accept }}
        </button>
        <button class="secondary" (click)="handleNotificationAction(notification, 'ignore')">
          {{ notification.actions.ignore }}
        </button>
      </div>
    </div>
  </div>

  <!-- Drawer overlay -->
  <div class="drawer-overlay" [class.show]="showNotifications" (click)="toggleNotifications()"></div>

  <!-- CREATE POST MODAL -->
  <app-create-post
    [userId]="userId"
    [show]="showCreateModal"
    (close)="closeCreateModal()"
    (postCreated)="onPostCreated()">
  </app-create-post>

  <!-- TOAST NOTIFICATION -->
  <div class="toast" [class.show]="showToast">
    <div class="toast-content">
      <svg class="toast-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
      </svg>
      <span class="toast-message">{{ toastMessage }}</span>
    </div>
  </div>
  </div>
</div>
